# Importar arquivo secreto apenas se existir (opcional para produção)
# spring.config.import=application-secret.properties

spring.application.name=NORTHERN LIGHTS
spring.jackson.time-zone=America/Sao_Paulo
spring.jackson.serialization.fail-on-empty-beans=false
spring.jackson.deserialization.fail-on-unknown-properties=false

# Configurações de email (usar variáveis de ambiente em produção)
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com
spring.mail.properties.mail.smtp.starttls.required=true
# Timeouts aumentados para Render (conexões podem ser mais lentas)
spring.mail.properties.mail.smtp.connectiontimeout=30000
spring.mail.properties.mail.smtp.timeout=30000
spring.mail.properties.mail.smtp.writetimeout=30000
# Configurações adicionais para melhorar conexão
spring.mail.properties.mail.smtp.socketFactory.port=587
spring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory
spring.mail.properties.mail.smtp.socketFactory.fallback=false
# Retry em caso de falha
spring.mail.properties.mail.smtp.sendpartial=true
spring.mail.properties.mail.debug=false


